"use client"
import { useState } from "react";
import { Draggable } from "./Draggable";

export default function NotesWindow() {
  const [active,setActive] = useState(false);

  const handleClick = () => {
    setActive(!active);
  }
  
  return (
    <Draggable className="flex h-[520px] w-[860px] overflow-hidden rounded-3xl bg-white/70 backdrop-blur-2xl shadow-[0_30px_60px_rgba(0,0,0,0.18),0_4px_12px_rgba(0,0,0,0.12)] p-3">
      {/* Sidebar */}
      <aside className="w-[240px] bg-black/5 backdrop-blur-xl p-3 rounded-xl">
        <div className="flex items-center gap-2 mb-4">
          <TrafficLights />
        </div>
        <div className="space-y-1 text-[13px] text-black/80">
          <SidebarItem label="Snelle notities" count={1} active={active} />
          <SidebarItem label="Gedeeld" count={0} active={active} />
        </div>

        <div className="mt-4 space-y-1 text-[13px] text-black/80">
          <SidebarItem label="Alle" count={2} active={active} />
          <SidebarItem label="Recent verwijderd" count={0} active={active} />
        </div>
      </aside>

      {/* Main */}
      <div className="flex flex-1 flex-col">
        {/* Titlebar */}
        <div className="flex items-center justify-between pl-4 h-fit">
          <div className="bg-black/5 gap-4 flex h-full aspect-square rounded-full justify-center">
            <ToolbarButton>
              <svg
                width="6"
                height="11"
                viewBox="0 0 6 11"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                {/* chevron left < */}
                <path
                  d="M0 5.18555C0.00585938 4.98633 0.0761719 4.81641 0.234375 4.66406L4.80469 0.193359C4.92773 0.0644531 5.0918 0 5.2793 0C5.66016 0 5.95898 0.292969 5.95898 0.673828C5.95898 0.861328 5.88281 1.03125 5.75391 1.16602L1.63477 5.18555L5.75391 9.20508C5.88281 9.33398 5.95898 9.50391 5.95898 9.69141C5.95898 10.0781 5.66016 10.3711 5.2793 10.3711C5.0918 10.3711 4.92773 10.3066 4.80469 10.1777L0.234375 5.70703C0.0761719 5.55469 0 5.38477 0 5.18555Z"
                  fill="black"
                />
              </svg>
            </ToolbarButton>
          </div>
          <div className="flex gap-4">
            <div className="bg-black/5 gap-4 flex rounded-xl text-black">
              <ToolbarButton>Aa</ToolbarButton>
              <ToolbarButton>
                {/* checklist icon */}
                <svg
                  width="14"
                  height="12"
                  viewBox="0 0 14 12"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M2.52539 11.8359C2.06836 11.8359 1.64844 11.7207 1.26562 11.4902C0.882812 11.2598 0.576172 10.9531 0.345703 10.5703C0.115234 10.1875 0 9.76758 0 9.31055C0 8.84961 0.113281 8.42773 0.339844 8.04492C0.570312 7.66211 0.876953 7.35547 1.25977 7.125C1.64258 6.89453 2.06445 6.7793 2.52539 6.7793C2.98633 6.7793 3.40625 6.89453 3.78516 7.125C4.16797 7.35156 4.47461 7.65625 4.70508 8.03906C4.93555 8.42188 5.05078 8.8457 5.05078 9.31055C5.05078 9.76758 4.93555 10.1875 4.70508 10.5703C4.47461 10.9531 4.16797 11.2598 3.78516 11.4902C3.40625 11.7207 2.98633 11.8359 2.52539 11.8359ZM2.52539 10.9805C2.82617 10.9805 3.10352 10.9043 3.35742 10.752C3.61133 10.5996 3.81445 10.3965 3.9668 10.1426C4.11914 9.88867 4.19531 9.61133 4.19531 9.31055C4.19531 9.00586 4.11914 8.72656 3.9668 8.47266C3.81445 8.21875 3.61133 8.01562 3.35742 7.86328C3.10352 7.71094 2.82617 7.63477 2.52539 7.63477C2.22461 7.63477 1.94727 7.71094 1.69336 7.86328C1.43945 8.01562 1.23633 8.21875 1.08398 8.47266C0.931641 8.72656 0.855469 9.00586 0.855469 9.31055C0.855469 9.61133 0.931641 9.88867 1.08398 10.1426C1.23633 10.3965 1.43945 10.5996 1.69336 10.752C1.94727 10.9043 2.22461 10.9805 2.52539 10.9805ZM6.83203 3.00586C6.69922 3.00586 6.58594 2.96094 6.49219 2.87109C6.40234 2.77734 6.35742 2.66406 6.35742 2.53125C6.35742 2.39844 6.40234 2.28711 6.49219 2.19727C6.58594 2.10742 6.69922 2.0625 6.83203 2.0625H12.6562C12.7891 2.0625 12.9023 2.10742 12.9961 2.19727C13.0898 2.28711 13.1367 2.39844 13.1367 2.53125C13.1367 2.66406 13.0898 2.77734 12.9961 2.87109C12.9023 2.96094 12.7891 3.00586 12.6562 3.00586H6.83203ZM6.83203 9.7793C6.69922 9.7793 6.58594 9.73438 6.49219 9.64453C6.40234 9.55078 6.35742 9.43945 6.35742 9.31055C6.35742 9.17773 6.40234 9.06641 6.49219 8.97656C6.58594 8.88281 6.69922 8.83594 6.83203 8.83594H12.6562C12.7891 8.83594 12.9023 8.88281 12.9961 8.97656C13.0898 9.06641 13.1367 9.17773 13.1367 9.31055C13.1367 9.43945 13.0898 9.55078 12.9961 9.64453C12.9023 9.73438 12.7891 9.7793 12.6562 9.7793H6.83203ZM2.52539 5.05664C2.06836 5.05664 1.64844 4.94141 1.26562 4.71094C0.882812 4.48047 0.576172 4.17383 0.345703 3.79102C0.115234 3.4082 0 2.98633 0 2.52539C0 2.06445 0.113281 1.64258 0.339844 1.25977C0.570312 0.876953 0.876953 0.572266 1.25977 0.345703C1.64258 0.115234 2.06445 0 2.52539 0C2.98633 0 3.40625 0.115234 3.78516 0.345703C4.16797 0.572266 4.47461 0.876953 4.70508 1.25977C4.93555 1.64258 5.05078 2.06445 5.05078 2.52539C5.05078 2.98633 4.93555 3.4082 4.70508 3.79102C4.47461 4.17383 4.16797 4.48047 3.78516 4.71094C3.40625 4.94141 2.98633 5.05664 2.52539 5.05664ZM2.22656 3.88477C2.35547 3.88477 2.45508 3.83008 2.52539 3.7207L3.75 1.79883C3.80078 1.7168 3.82617 1.63672 3.82617 1.55859C3.82617 1.48437 3.79492 1.41992 3.73242 1.36523C3.67383 1.31055 3.60352 1.2832 3.52148 1.2832C3.41602 1.2832 3.32812 1.33789 3.25781 1.44727L2.21484 3.12305L1.75781 2.54297C1.71875 2.49219 1.67773 2.45508 1.63477 2.43164C1.5957 2.4082 1.54688 2.39648 1.48828 2.39648C1.41016 2.39648 1.3418 2.42578 1.2832 2.48438C1.22852 2.54297 1.20117 2.61523 1.20117 2.70117C1.20117 2.79102 1.22656 2.86719 1.27734 2.92969L1.93359 3.7207C1.97656 3.77148 2.01953 3.8125 2.0625 3.84375C2.10938 3.87109 2.16406 3.88477 2.22656 3.88477Z"
                    fill="black"
                  />
                </svg>
              </ToolbarButton>
              <ToolbarButton>
                <svg
                  width="17"
                  height="12"
                  viewBox="0 0 17 12"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  {/* table icon */}
                  <path
                    d="M1.92188 10.9336C0.65625 10.9336 0 10.2832 0 9.03516V1.89844C0 0.650391 0.65625 0 1.92188 0H11.959C13.2188 0 13.8809 0.644531 13.8809 1.89844V4.74023C13.4414 4.66406 13.0137 4.68164 12.5918 4.79297V4.38867H7.5V6.54492H9.99609C9.78516 6.87891 9.63281 7.24805 9.54492 7.64648H7.5V9.78516H9.66797C9.79688 10.2129 10.002 10.5996 10.2773 10.9336H1.92188ZM1.14844 3.28711H6.375V1.14258H1.99219C1.45312 1.14258 1.14844 1.42969 1.14844 1.99805V3.28711ZM7.5 3.28711H12.7324V1.99805C12.7324 1.42969 12.4336 1.14258 11.8887 1.14258H7.5V3.28711ZM1.14844 6.54492H6.375V4.38867H1.14844V6.54492ZM13.2773 11.5547C11.625 11.5547 10.2656 10.1953 10.2656 8.53711C10.2656 6.88477 11.625 5.52539 13.2773 5.52539C14.9355 5.52539 16.2949 6.88477 16.2949 8.53711C16.2949 10.1836 14.918 11.5547 13.2773 11.5547ZM1.14844 8.93555C1.14844 9.50391 1.45312 9.78516 1.99219 9.78516H6.375V7.64648H1.14844V8.93555ZM14.9062 9.0293C15.1699 9.0293 15.3867 8.80078 15.3926 8.53711C15.3926 8.27344 15.1699 8.04492 14.9062 8.04492C14.6309 8.04492 14.4082 8.27344 14.4082 8.53711C14.4082 8.80078 14.6309 9.0293 14.9062 9.0293ZM11.6484 9.0293C11.918 9.0293 12.1406 8.80078 12.1406 8.53711C12.1406 8.27344 11.9238 8.04492 11.6484 8.04492C11.3848 8.04492 11.168 8.27344 11.168 8.53711C11.168 8.80078 11.3848 9.0293 11.6484 9.0293ZM13.2832 9.0293C13.5469 9.0293 13.7695 8.80078 13.7754 8.53711C13.7754 8.27344 13.5469 8.04492 13.2832 8.04492C13.0195 8.04492 12.791 8.27344 12.791 8.53711C12.791 8.80078 13.0195 9.0293 13.2832 9.0293Z"
                    fill="black"
                  />
                </svg>
              </ToolbarButton>
              <ToolbarButton>
                <svg
                  width="13"
                  height="14"
                  viewBox="0 0 13 14"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  {/* paperclip icon < */}
                  <path
                    d="M10.0371 6.9375C10.2422 6.74414 10.5645 6.71484 10.7578 6.91992C10.957 7.11328 10.9629 7.4707 10.7637 7.66406L6.41016 12.0176C4.92773 13.4941 2.79492 13.3887 1.44727 12.0469C0.0996094 10.6992 0 8.57227 1.48242 7.08984L7.42969 1.13086C8.56641 0 10.0781 0.0703125 11.0508 1.03711C12.041 2.0332 12.082 3.52148 10.9512 4.65234L5.12109 10.4824C4.48828 11.1152 3.57422 11.127 2.9707 10.5234C2.41406 9.9668 2.39062 9.00586 3.01172 8.37305L7.07812 4.3125C7.2832 4.10742 7.58203 4.10156 7.78125 4.28906C7.97461 4.48828 7.96289 4.78711 7.75781 4.99219L3.71484 9.03516C3.45117 9.30469 3.52734 9.60938 3.70312 9.79688C3.88477 9.97266 4.19531 10.0488 4.45898 9.78516L10.2598 3.97852C10.9043 3.32812 11.0215 2.37305 10.3887 1.74023C9.76172 1.10742 8.79492 1.22461 8.15039 1.86914L2.23828 7.78125C1.13086 8.88867 1.23633 10.3594 2.19141 11.3086C3.13477 12.2578 4.61133 12.3691 5.71289 11.2617L10.0371 6.9375Z"
                    fill="black"
                  />
                </svg>
              </ToolbarButton>
            </div>
            <div className="bg-black/5 gap-4 flex rounded-xl text-black">
              <ToolbarButton>
                <svg
                  width="11"
                  height="14"
                  viewBox="0 0 11 14"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  {/* share icon */}
                  <path
                    d="M1.83984 13.166C1.22656 13.166 0.765625 13.0137 0.457031 12.709C0.152344 12.4082 0 11.9551 0 11.3496V5.56641C0 4.96094 0.152344 4.50781 0.457031 4.20703C0.765625 3.90234 1.22656 3.75 1.83984 3.75H3.63281V4.69336H1.85156C1.55859 4.69336 1.33398 4.77148 1.17773 4.92773C1.02148 5.08008 0.943359 5.30859 0.943359 5.61328V11.3027C0.943359 11.6074 1.02148 11.8359 1.17773 11.9883C1.33398 12.1445 1.55859 12.2227 1.85156 12.2227H8.54297C8.83203 12.2227 9.05664 12.1445 9.2168 11.9883C9.37695 11.8359 9.45703 11.6074 9.45703 11.3027V5.61328C9.45703 5.30859 9.37695 5.08008 9.2168 4.92773C9.05664 4.77148 8.83203 4.69336 8.54297 4.69336H6.76172V3.75H8.56055C9.17383 3.75 9.63281 3.90234 9.9375 4.20703C10.2461 4.50781 10.4004 4.96094 10.4004 5.56641V11.3496C10.4004 11.9551 10.2461 12.4082 9.9375 12.709C9.63281 13.0137 9.17383 13.166 8.56055 13.166H1.83984ZM5.19727 8.57227C5.07227 8.57227 4.96289 8.52734 4.86914 8.4375C4.7793 8.34766 4.73438 8.24219 4.73438 8.12109V2.15625L4.76953 1.2832L4.44141 1.62891L3.5332 2.5957C3.45117 2.68945 3.34375 2.73633 3.21094 2.73633C3.08984 2.73633 2.98828 2.69727 2.90625 2.61914C2.82812 2.54102 2.78906 2.44336 2.78906 2.32617C2.78906 2.21289 2.83594 2.10938 2.92969 2.01562L4.85742 0.152344C4.91992 0.09375 4.97656 0.0546875 5.02734 0.0351562C5.08203 0.0117188 5.13867 0 5.19727 0C5.25977 0 5.31641 0.0117188 5.36719 0.0351562C5.42188 0.0546875 5.47852 0.09375 5.53711 0.152344L7.4707 2.01562C7.56055 2.10938 7.60547 2.21289 7.60547 2.32617C7.60547 2.44336 7.56445 2.54102 7.48242 2.61914C7.40039 2.69727 7.29883 2.73633 7.17773 2.73633C7.04883 2.73633 6.94336 2.68945 6.86133 2.5957L5.95898 1.62891L5.63086 1.2832L5.66602 2.15625V8.12109C5.66602 8.24219 5.61914 8.34766 5.52539 8.4375C5.43555 8.52734 5.32617 8.57227 5.19727 8.57227Z"
                    fill="black"
                  />
                </svg>
              </ToolbarButton>
              {/* ellipses */}
              <ToolbarButton

              >⋯</ToolbarButton>
            </div>
            <div className="bg-black/5 gap-4 flex rounded-xl text-black">
              <ToolbarButton>
                <svg
                  width="12"
                  height="12"
                  viewBox="0 0 12 12"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  {/* magnifying glass icon */}
                  <path
                    d="M0 4.76953C0 2.13867 2.13867 0 4.76953 0C7.40039 0 9.53906 2.13867 9.53906 4.76953C9.53906 5.79492 9.20508 6.74414 8.64844 7.51172L11.3262 10.1953C11.4844 10.3594 11.5664 10.5762 11.5664 10.8105C11.5664 11.2969 11.209 11.6719 10.7109 11.6719C10.4824 11.6719 10.2539 11.5957 10.0898 11.4258L7.39453 8.73047C6.64453 9.24023 5.74805 9.53906 4.76953 9.53906C2.13867 9.53906 0 7.40039 0 4.76953ZM1.21875 4.76953C1.21875 6.73242 2.80664 8.32031 4.76953 8.32031C6.73242 8.32031 8.32031 6.73242 8.32031 4.76953C8.32031 2.80664 6.73242 1.21875 4.76953 1.21875C2.80664 1.21875 1.21875 2.80664 1.21875 4.76953Z"
                    fill="black"
                  />
                </svg>
              </ToolbarButton>
            </div>
          </div>
        </div>

        {/* Note content */}
        <main className="flex-1 overflow-auto px-6 py-12 text-black/90">
          <h1 className="mb-6 text-[26px] font-semibold leading-tight">
            Waar is Lisan gebleven?
          </h1>

          <div className="space-y-5 text-[15px] leading-relaxed">
            <p>
              De afgelopen zes maanden heb ik school even ingeruild voor mijn
              stage bij <strong>35°</strong>. Het was een tijd vol ups en downs,
              spanning, sensatie, koffie en niet te vergeten: code. Ik zal nog
              niet alles verklappen, ik schrijf namelijk nog uitgebreid over
              alles wat ik heb mogen meemaken.
            </p>
            <p>
              Maar, weet dat ik het <span className="italic">helemaal </span>
              geweldig vond.
            </p>
          </div>
        </main>
      </div>
    </Draggable>
  );
}

/* ───────────────────────── helpers ───────────────────────── */

function SidebarItem({
  label,
  count,
  active,
  onClick,
}: {
  label: string;
  count: number;
  active?: boolean;
  onClick?: () => void;
}) {
  return (
    <div
      onClick={onClick}
      className={`flex items-center justify-between rounded-lg px-3 py-2 transition cursor-pointer
        ${active ? "bg-white/70 shadow-sm" : "hover:bg-white/40"}
        `}
    >
      <span>{label}</span>
      <span className="text-black/40">{count}</span>
    </div>
  );
}

function TrafficLights() {
  return (
    <div className="flex gap-2">
      <Dot color="bg-red-500" />
      <Dot color="bg-yellow-400" />
      <Dot color="bg-green-500" />
    </div>
  );
}

function Dot({ color }: { color: string }) {
  return (
    <span className={`h-[12px] w-[12px] rounded-full ${color} shadow-inner`} />
  );
}

function ToolbarButton({ children }: { children: React.ReactNode }) {
  return (
    <button className="px-2 py-1 text-[13px]">
      {children}
    </button>
  );
}
